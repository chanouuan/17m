/*!
 * WeUI.js v0.3.0 (https://github.com/progrape/weui.js)
 * Copyright 2016
 * Licensed under the MIT license
 */
;"use strict";(function(a){a.weui={version:"0.3.0"};a.noop=a.noop||function(){}})($);"use strict";(function(b){var a=null;b.weui.dialog=function(c){c=b.extend({title:"标题",content:"内容",className:"",buttons:[{label:"确定",type:"primary",onClick:b.noop}]},c);var e=c.buttons.map(function(f){return'<a href="javascript:;" class="weui_btn_dialog '+f.type+'">'+f.label+"</a>"}).join("\n");var d='<div class="'+c.className+'">\n                <div class="weui_mask"></div>\n                <div class="weui_dialog">\n                    <div class="weui_dialog_hd">\n                        <strong class="weui_dialog_title">\n                            '+c.title+'\n                        </strong>\n                    </div>\n                    <div class="weui_dialog_bd">\n                        '+c.content+'\n                    </div>\n                    <div class="weui_dialog_ft">\n                        '+e+"\n                    </div>\n                </div>\n            </div>";a=b(d);b("body").append(a);a.on("click",".weui_btn_dialog",function(){var g=c.buttons[b(this).index()];var f=g.onClick||b.noop;f.call();b.weui.closeDialog()})};b.weui.closeDialog=function(){if(a){a.off("click");if(typeof a.fadeOut==="function"){a.fadeOut("fast",function(){a.remove();a=null})}else{a.remove();a=null}}}})($);"use strict";(function(a){a.weui.alert=function(d,b,e){var c=typeof b==="function";if(c){e=b}b=a.extend({title:"警告",content:d||"警告内容",className:"",buttons:[{label:"确定",type:"primary",onClick:e}]},c?{}:b);b.className="weui_dialog_alert "+b.className;a.weui.dialog(b)}})($);"use strict";(function(b){var a=null;var c=null;b.weui.topTips=function(){var f=arguments.length<=0||arguments[0]===undefined?"topTips":arguments[0];var d=arguments[1];if(a){a.remove();c&&clearTimeout(c);a=null}if(typeof d==="number"){d={duration:d}}if(typeof d==="function"){d={callback:d}}d=b.extend({duration:3000,callback:b.noop},d);var e='<div class="weui_toptips weui_warn">'+f+"</div>";a=b(e);a.appendTo(b("body"));if(typeof a.slideDown==="function"){a.slideDown(20)}else{a.show()}c=setTimeout(function(){if(a){if(typeof a.slideUp==="function"){a.slideUp(120,function(){a.remove();a=null;d.callback()})}else{a.remove();a=null;d.callback()}}},d.duration)}})($);"use strict";(function(b){var a=null;b.weui.actionSheet=function(){var f=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var g=arguments.length<=1||arguments[1]===undefined?[{label:"取消"}]:arguments[1];var c=f.map(function(i,h){return'<div class="weui_actionsheet_cell">'+i.label+"</div>"}).join("");var e=g.map(function(i,h){return'<div class="weui_actionsheet_cell">'+i.label+"</div>"}).join("");var d='<div>\n            <div class="weui_mask_transition"></div>\n            <div class="weui_actionsheet">\n                <div class="weui_actionsheet_menu">\n                    '+c+'\n                </div>\n                <div class="weui_actionsheet_action">\n                    '+e+"\n                </div>\n            </div>\n        </div>";a=b(d);b("body").append(a);a.find(".weui_mask_transition").show().addClass("weui_fade_toggle");a.find(".weui_actionsheet").addClass("weui_actionsheet_toggle");a.on("click",".weui_actionsheet_menu .weui_actionsheet_cell",function(){var i=f[b(this).index()];var h=i.onClick||b.noop;h.call();b.weui.hideActionSheet()}).on("click",".weui_mask_transition",function(){b.weui.hideActionSheet()}).on("click",".weui_actionsheet_action .weui_actionsheet_cell",function(){var i=g[b(this).index()];var h=i.onClick||b.noop;h.call();b.weui.hideActionSheet()})};b.weui.hideActionSheet=function(){if(!a){return}var d=a.find(".weui_mask_transition");var c=a.find(".weui_actionsheet");d.removeClass("weui_fade_toggle");c.removeClass("weui_actionsheet_toggle");c.on("transitionend",function(){a.remove();a=null}).on("webkitTransitionEnd",function(){a.remove();a=null})}})($);"use strict";(function(a){a.weui.confirm=function(d,b,f,e){var c=typeof b==="function";if(c){e=f;f=b}b=a.extend({title:"确认",content:d||"确认内容",className:"",buttons:[{label:"取消",type:"default",onClick:e||a.noop},{label:"确定",type:"primary",onClick:f||a.noop}]},c?{}:b);b.className="weui_dialog_confirm "+b.className;a.weui.dialog(b)}})($);"use strict";(function(){function d(h){var e=h[0],g=h.val();if(e.tagName=="INPUT"||e.tagName=="TEXTAREA"){var f=e.getAttribute("required")||e.getAttribute("pattern")||"";if(!h.val().length){return"empty"}else{if(f){return new RegExp(f).test(g)?null:"notMatch"}else{return null}}}else{if(e.getAttribute("type")=="checkbox"||e.getAttribute("type")=="radio"){return e.checked?null:"empty"}else{if(g.length){return null}}}return"empty"}function b(g){if(g){var f=g.$dom,h=g.msg,e=f.attr(h+"Tips")||f.attr("tips")||f.attr("placeholder");if(e){$.weui.topTips(e)}f.parents(".weui_cell").addClass("weui_cell_warn")}}var a=$.fn.form;$.fn.form=function(){return this.each(function(f,g){var e=$(g);e.find("[required]").on("blur",function(){var i=$(this),h;if(i.val().length<1){return}h=d(i);if(h){b({$dom:i,msg:h})}}).on("focus",function(){var h=$(this);h.parents(".weui_cell").removeClass("weui_cell_warn")})})};$.fn.form.noConflict=function(){return a};var c=$.fn.validate;$.fn.validate=function(e){return this.each(function(){var l=$(this).find("[required]");if(typeof e!="function"){e=b}for(var j=0,g=l.length;j<g;++j){var f=l.eq(j),k=d(f),h={$dom:f,msg:k};if(k){if(!e(h)){b(h)}return}}e(null)})};$.fn.validate.noConflict=function(){return c}})();"use strict";(function(b){var a=null;b.weui.loading=function(){var d=arguments.length<=0||arguments[0]===undefined?"loading...":arguments[0];if(a){a.find(".weui_toast_content").html(d);a.show();return}var c='<div class="weui_loading_toast">\n        <div class="weui_mask_transparent"></div>\n        <div class="weui_toast">\n            <div class="weui_loading">\n                <div class="weui_loading_leaf weui_loading_leaf_0"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_1"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_2"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_3"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_4"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_5"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_6"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_7"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_8"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_9"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_10"></div>\n                <div class="weui_loading_leaf weui_loading_leaf_11"></div>\n            </div>\n            <p class="weui_toast_content">'+d+"</p>\n        </div>\n    </div>";a=b(c);b("body").append(a)};b.weui.hideLoading=function(){a&&a.hide()}})($);"use strict";(function(a){a.fn.progress=function(c){var f=this;c=a.extend({value:0},c);if(c.value<0){c.value=0}if(c.value>100){c.value=100}var b=this.find(".weui_progress_inner_bar");if(b.length===0){var e=typeof c.onClick==="function"?'<a href="javascript:;" class="weui_progress_opr">\n                    <i class="weui_icon_cancel"></i>\n                </a>':"";var d='<div class="weui_progress">\n                <div class="weui_progress_bar">\n                    <div class="weui_progress_inner_bar" style="width: '+c.value+'%;"></div>\n                </div>\n                '+e+"\n            </div>";if(typeof c.onClick==="function"){this.on("click",".weui_progress_opr",function(){c.onClick.call(f)})}return this.html(d)}return b.width(c.value+"%")}})($);"use strict";(function(a){a.fn.searchBar=function(b){b=a.extend({focusingClass:"weui_search_focusing",searchText:"搜索",cancelText:"取消"},b);var c='<div class="weui_search_bar">\n                    <form class="weui_search_outer">\n                        <div class="weui_search_inner">\n                            <i class="weui_icon_search"></i>\n                            <input type="search" class="weui_search_input" id="weui_search_input" placeholder="'+b.searchText+'" required/>\n                            <a href="javascript:" class="weui_icon_clear"></a>\n                        </div>\n                        <label for="weui_search_input" class="weui_search_text">\n                            <i class="weui_icon_search"></i>\n                            <span>'+b.searchText+'</span>\n                        </label>\n                    </form>\n                    <a href="javascript:" class="weui_search_cancel">'+b.cancelText+"</a>\n                </div>";var g=a(c);this.append(g);var f=this.find(".weui_search_bar");var d=this.find(".weui_search_text");var e=this.find(".weui_search_input");this.on("focus","#weui_search_input",function(){d.hide();f.addClass(b.focusingClass);h(e,"onfocus",b)}).on("blur","#weui_search_input",function(){f.removeClass(b.focusingClass);!!a(this).val()?d.hide():d.show();h(e,"onblur",b)}).on("touchend",".weui_search_cancel",function(){e.val("");h(e,"oncancel",b)}).on("touchend",".weui_icon_clear",function(i){i.preventDefault();e.val("");if(document.activeElement.id!="search_input"){e.trigger("focus")}h(e,"onclear",b)}).on("input",".weui_search_input",function(){h(e,"input",b)}).on("submit",".weui_search_outer",function(){if(typeof b.onsubmit=="function"){h(e,"onsubmit",b);return false}});function h(l,j,i){if(typeof i[j]=="function"){var k=a(l).val();i[j].call(l,k)}}}})($);"use strict";(function(b){var a=b.fn.tab;b.fn.tab=function(d){d=b.extend({defaultIndex:0,activeClass:"weui_bar_item_on",onToggle:b.noop},d);var e=this.find(".weui_tabbar_item, .weui_navbar_item");var f=this.find(".weui_tab_bd_item");this.toggle=function(g){var i=e.eq(g);i.addClass(d.activeClass).siblings().removeClass(d.activeClass);var h=f.eq(g);h.show().siblings().hide();d.onToggle(g)};var c=this;this.on("click",".weui_tabbar_item, .weui_navbar_item",function(h){var g=b(this).index();c.toggle(g)});this.toggle(d.defaultIndex);return this};b.fn.tab.noConflict=function(){return a}})($);"use strict";(function(a){a.weui.toast=function(){var d=arguments.length<=0||arguments[0]===undefined?"toast":arguments[0];var b=arguments[1];if(typeof b==="number"){b={duration:b}}if(typeof b==="function"){b={callback:b}}b=a.extend({duration:3000,callback:a.noop},b);var c='<div>\n            <div class="weui_mask_transparent"></div>\n            <div class="weui_toast">\n                <i class="weui_icon_toast"></i>\n                <p class="weui_toast_content">'+d+"</p>\n            </div>\n        </div>";var e=a(c);a("body").append(e);setTimeout(function(){e.remove();e=null;b.callback()},b.duration)}})($);